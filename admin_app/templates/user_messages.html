{% extends 'base.html' %}

{% block title %}Message Page - Artixcore{% endblock %}

{% block content %}
<div class="col-lg-12 grid-margin stretch-card">
    <div class="card">
    <div class="card-body">
        <div class="d-flex align-items-center mb-3">
        <h4 class="card-title m-0">Contents Table</h4>
        </div>      
        <div class="table-responsive">
        <table class="table table-striped">
        <thead>
            <tr>
            <th> ID </th>
            <th> Name </th>
            <th> Email </th>
            <th> View </th>
            <th> Delete </th>
            </tr>
        </thead>
        <tbody>
            {% for message in messages %}
            <tr>
                <td> {{ message.id }} </td>
                <td> {{ message.name }} </td>
                <td> {{ message.email }} </td>
                <td> <a href="{% url 'viewMessage' id=message.id %}"> <span class="badge badge-warning">View</span> </a> </td>
                <td> <a href="{% url 'deleteMessage' id=message.id %}" onclick="event.preventDefault(); if(confirm('Are you sure?')) { window.location.href = this.href; }" > <span class="badge badge-danger">Delete</span> </a> </td>
            </tr>
            {% endfor %}
        </tbody>
        </table>
        </div>
    </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
    <!-- DataTables JS -->
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
    <script>$(document).ready( function () {
      $('.table').DataTable();
    } );
    </script>
{% endblock %}